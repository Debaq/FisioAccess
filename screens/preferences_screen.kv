<PreferencesScreen@MDScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.onSecondaryColor  

        MDScrollView:
            size_hint_y: 0.9

            MDBoxLayout:
                orientation: 'vertical'
                padding: "16dp"
                spacing: "16dp"
                adaptive_height: True

                MDLabel:
                    text: "Configuración"
                    font_style: "Display"
                    adaptive_height: True

                MDGridLayout:
                    cols: 3
                    spacing: "16dp"
                    adaptive_height: True

                    MDCard:
                        orientation: "vertical"
                        padding: "16dp"
                        size_hint: 1, None
                        height: "210dp"
                        MDLabel:
                            text: "Temas"
                            font_style: "Title"
                            adaptive_height: True

                        MDGridLayout:
                            cols: 2

                            adaptive_height: True
                            MDLabel:
                                text:"Paleta"
                            MDButton:
                                id: btn_palette
                                style: "elevated"
                                on_release: root.set_palette(self)
                                MDButtonIcon:
                                    icon: "plus"

                                MDButtonText:
                                    id: paletteColor_text_conf
                                    text: ""
                            MDLabel:
                                text:"Esquema de colores"
                            MDButton:
                                style: "elevated"
                                on_release: root.set_scheme_type(self)
                                MDButtonIcon:
                                    icon: "plus"

                                MDButtonText:
                                    id:schemeColor_text_conf
                                    text: ""
                            MDLabel:
                                text:"Estilo"
                            MDButton:
                                style: "elevated"
                                on_release: root.switch_theme(self)
                                MDButtonText:
                                    id: style_text_conf
                                    text: ""
                            MDLabel:
                                text:"Estilo Dinamico"
                            MDButton:
                                style: "elevated"
                                on_release: root.toggle_dynamic_color(self)
                                MDButtonText:
                                    id: styledin_text_conf
                                    text: ""
                            

                    MDCard:
                        orientation: "vertical"
                        padding: "16dp"
                        size_hint: 1, None
                        height: "210dp"

                        MDLabel:
                            text: "Estado de la red"
                            font_style: "Title"
                            adaptive_height: True

                        MDLabel:
                            text: "Estado: Activo como AP"
                            adaptive_height: True

                        MDLabel:
                            text: "Dirección de conexión: 192.168.4.1"
                            adaptive_height: True

                        MDLabel:
                            text: "Dispositivos conectados:"
                            adaptive_height: True

                        MDList:
                            id: connected_devices
                            adaptive_height: True

                    MDCard:
                        orientation: "vertical"
                        padding: "16dp"
                        size_hint: 1, None
                        height: "210dp"

                        MDLabel:
                            text: "Configuraciones adicionales"
                            font_style: "Title"
                            adaptive_height: True

                        MDLabel:
                            text: "Espacio para futuras configuraciones"
                            adaptive_height: True

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            padding: dp(10)
            spacing: dp(10)
            md_bg_color: app.theme_cls.shadowColor  

            MDIconButton:
                valign: "center"
                icon: 'arrow-left'
                on_release: app.change_screen('HomeScreen')

            MDLabel:
                text: "Universidad Austral de Chile Sede Puerto Montt"
                halign: "right"
                valign: "center"
                size_hint_x: 0.8