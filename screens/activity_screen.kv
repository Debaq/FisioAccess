<ActivityScreen@MDScreen>:
    figure_wgt:figure_wgt

    MDBoxLayout:
        orientation: 'vertical'

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            padding: dp(10)
            spacing: dp(10)
            Widget:
            MDIcon:
                icon: 'wifi-strength-off-outline'

        MatplotFigure:
            id:figure_wgt

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            padding: dp(10)
            spacing: dp(10)

            MDIconButton:
                id: back
                icon: 'arrow-left'
                on_release: app.change_screen('HomeScreen')

            MDIconButton:
                id: record_button
                icon: 'play'
                on_release: root.toggle_record()

            MDIconButton:
                id: clear_button
                icon: 'delete'
                on_release: app.screen_manager.clear_plot()
                disabled: True

            MDIconButton:
                id: move_left_button
                icon: 'arrow-left'
                on_release: app.screen_manager.scroll_left()

            MDIconButton:
                id: move_right_button
                icon: 'arrow-right'
                on_release: app.screen_manager.scroll_right()

            MDIconButton:
                id: magnify-plus_button
                icon: 'magnify-plus'
                on_release: app.screen_manager.zoom_in()

            MDIconButton:
                id: magnify-minus_button
                icon: 'magnify-minus'
                on_release: app.screen_manager.zoom_out()
            
            MDIconButton:
                icon: 'marker'
            
            MDIconButton:
                icon: 'marker-cancel'

            MDIconButton:
                icon: 'select-search'
            MDDivider:
                size_hint_y: 1
                orientation: "vertical"
            Widget:  # Este es un layout vacío que actúa como espacio
                size_hint_x: None
                width: dp(210)  
            MDDivider:
                size_hint_y: 1
                orientation: "vertical"


            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: root.menu_measure(self)

                MDButtonIcon:
                    icon: "plus"

                MDButtonText:
                    text: "Medir"

            MDIconButton:
                icon: 'file-document-arrow-right'

            MDIconButton:
                icon: 'help'
                on_release: app.change_screen('HelpScreen', 'ECG')


